{% load static %}


<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Biz Marine ‚Äî Professional Marine Logistics</title>
<meta name="description" content="Biz Marine ‚Äî vessel chartering, offshore logistics, fleet operations." />

<!-- Open Graph / Social -->
<meta property="og:title" content="Biz Marine ‚Äî Professional Marine Logistics">
<meta property="og:description" content="Offshore logistics, fleet operations and vessel chartering ‚Äî safely, efficiently, and worldwide.">
<meta property="og:image" content="public/assets/images/og-banner.jpg">
<meta property="og:type" content="website">
<meta property="og:url" content="https://bizmarine.co.in/">

<!-- Leaflet (existing) -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<!-- AOS (scroll animations) -->
<link rel="stylesheet" href="https://unpkg.com/aos@2.3.4/dist/aos.css" />

<!-- Swiper -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />

<style>
  :root{
    --accent: #0b5f8a;
    --accent-2:#0d8db8;
    --bg:#f6fbff;
    --nav-bg: rgba(255,255,255,0.85);
    --card: rgba(255,255,255,0.85);
    --muted: #6b7a86;
    --dark-hero-overlay: rgba(4,10,25,0.65);
    --max-w:1200px;
    font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  }

  *{box-sizing:border-box}
  body{margin:0;background:linear-gradient(180deg,#f6fbff 0%, #edf7fb 100%);color:#072033;line-height:1.45;transition:background .35s,color .35s}
  a{color:inherit;text-decoration:none}
  .container{max-width:var(--max-w);margin:0 auto;padding:0 20px}

  /* header */
header {
  position: fixed;
  left: 0;
  right: 0;
  top: 12px;
  z-index: 80;
  display: flex;
  justify-content: center;
}

.topbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 10px 28px;
  margin: 0 20px;
  border-radius: 12px;
  background: var(--nav-bg);
  backdrop-filter: blur(6px);
  box-shadow: 0 6px 24px rgba(12, 40, 60, 0.06);
  transition: background .35s, box-shadow .35s;
  max-width: 1100px; /* keeps header centered */
  width: 100%;
}

/* brand */
.brand {
  display: flex;
  gap: 12px;
  align-items: center;
}

.logo {
  width: 46px;
  height: 46px;
  border-radius: 10px;
  background: linear-gradient(135deg, var(--accent), var(--accent-2));
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-weight: 800;
  font-size: 18px;
}

/* nav */
nav ul {
  display: flex;
  gap: 28px;
  list-style: none;
  margin: 0;
  padding: 0;
  align-items: center;
  justify-content: center;
}

nav a {
  font-weight: 500;
  color: inherit;
  transition: color 0.3s ease;
}

nav a:hover {
  color: var(--accent);
}

.cta {
  background: var(--accent);
  padding: 8px 16px;
  border-radius: 10px;
  color: white;
  font-weight: 700;
  box-shadow: 0 6px 18px rgba(11, 95, 138, 0.14);
  transition: transform 0.3s ease;
}

.cta:hover {
  transform: translateY(-2px);
}

/* toggle */
.toggle {
  position: relative;
  width: 52px;
  height: 28px;
  border-radius: 20px;
  background: linear-gradient(135deg, #1a263b, #0b5f8a);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: background 0.3s ease;
}

.thumb {
  position: absolute;
  top: 3px;
  left: 3px;
  width: 22px;
  height: 22px;
  border-radius: 50%;
  background: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.4s ease;
}

.toggle svg {
  width: 14px;
  fill: var(--accent);
}

body.light .toggle {
  background: linear-gradient(135deg, #b1dcff, #7bbef4);
}

body.light .thumb {
  left: 27px;
}


/* Dropdown */
.dropdown {
  position: relative;
}

.dropdown-menu {
  position: absolute;
  top: 30px;
  left: 0;
  background: white;
  padding: 10px 0;
  list-style: none;
  box-shadow: 0 8px 18px rgba(0,0,0,0.1);
  border-radius: 10px;
  display: none;
  width: 160px;
  z-index: 99;
}

.dropdown-menu li a {
  display: block;
  padding: 8px 16px;
  color: #072033;
  font-weight: 500;
}

.dropdown-menu li a:hover {
  background: #eef7ff;
  color: var(--accent);
}

/* Show dropdown on hover */
.dropdown:hover .dropdown-menu {
  display: block;
}


/* MOBILE MENU OVERLAY */
.mobile-menu-overlay {
  position: fixed;
  inset: 0;
  background: rgba(4, 15, 25, 0.85);
  backdrop-filter: blur(6px);
  display: none;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  z-index: 200;
}

.mobile-menu-overlay.open {
  display: flex;
}

.mobile-links {
  list-style: none;
  padding: 0;
  margin: 0;
  text-align: center;
}

.mobile-links li {
  margin: 12px 0;
}

.mobile-links a {
  color: white;
  font-size: 20px;
  font-weight: 600;
  text-decoration: none;
  display: block;
  padding: 8px 0;
}

/* Close menu when clicking */
.mobile-links a:hover {
  opacity: 0.7;
}


/* HAMBURGER */
.hamburger {
  width: 32px;
  height: 24px;
  display: none;
  flex-direction: column;
  justify-content: space-between;
  cursor: pointer;
  z-index: 300;
}

.hamburger .bar {
  height: 3px;
  width: 100%;
  background: #072033;
  border-radius: 4px;
  transition: 0.3s ease;
}

/* Hamburger Animation */
.hamburger.active .bar:nth-child(1) {
  transform: translateY(9px) rotate(45deg);
}

.hamburger.active .bar:nth-child(2) {
  opacity: 0;
}

.hamburger.active .bar:nth-child(3) {
  transform: translateY(-9px) rotate(-45deg);
}


@media (max-width: 900px) {

  /* Hide desktop nav */
  .desktop-nav {
    display: none;
  }

  /* Show mobile hamburger */
  .hamburger {
    display: flex;
  }
}



/* responsive */
@media (max-width: 900px) {
  .topbar {
    flex-direction: column;
    gap: 10px;
    padding: 14px;
    text-align: center;
  }
  nav ul {
    flex-wrap: wrap;
    justify-content: center;
    gap: 16px;
  }
}

/* toggle pill */
.toggle{width:82px;height:36px;border-radius:999px;display:inline-flex;align-items:center;padding:4px;background:linear-gradient(90deg,#bfe6ff,#dff6ff);cursor:pointer;position:relative;transition:background .35s}
.toggle .thumb{position:absolute;left:6px;width:28px;height:28px;border-radius:50%;background:white;display:flex;align-items:center;justify-content:center;box-shadow:0 6px 18px rgba(11,95,138,0.12);transition:all .35s}
.toggle svg{width:18px;height:18px;fill:var(--accent);transition:fill .35s}
.toggle.dark{background:linear-gradient(90deg,#0a2b43,#04202b)}
.toggle.dark .thumb{transform:translateX(46px);background:var(--accent)}
body.dark .toggle svg path{fill:#fff}

/* hero */
.hero{position:relative;height:78vh;min-height:520px;display:flex;align-items:center;justify-content:center;overflow:hidden;margin-top:8px;transition:background .35s}
.slide{position:absolute;inset:0;opacity:0;transition:opacity .8s ease;pointer-events:none}
.slide.active{opacity:1;z-index:1;pointer-events:auto}
.slide video{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;filter:saturate(.95)}
.hero::after{content:"";position:absolute;inset:0;background:linear-gradient(180deg,rgba(2,20,34,0.35),rgba(2,20,34,0.6));z-index:1;transition:background .35s}
.hero.light::after{background:linear-gradient(180deg,rgba(255,255,255,0.12),rgba(255,255,255,0.18))}
.hero-overlay{position:relative;z-index:2;padding:48px;max-width:1100px;margin:auto;text-align:left}
.hero h1{font-size:40px;margin:0 0 14px;color:#fff;letter-spacing:-0.5px;text-shadow:0 6px 28px rgba(0,0,0,0.45);transition:color .35s,text-shadow .35s}
.hero p.lead{color:rgba(230,245,255,0.9);margin:0 0 18px;font-size:17px;transition:color .35s}
.hero-card{display:flex;gap:18px;align-items:center;background:rgba(255,255,255,0.06);backdrop-filter:blur(8px);padding:16px;border-radius:12px;transition:background .35s,box-shadow .35s,color .35s}
.hero.light h1{color:#052033;text-shadow:none}
.hero.light p.lead{color:#234558}
.hero.light .hero-card{background:rgba(255,255,255,0.95);box-shadow:0 6px 18px rgba(12,40,60,0.05)}
.hero-card .muted{font-size:13px;color:rgba(230,245,255,0.85)}
.hero-card .btn{padding:10px 14px;border-radius:10px;border:0;cursor:pointer}
.btn-outline{background:transparent;border:1px solid rgba(255,255,255,0.12);color:#eef7fb}
.btn-primary{background:var(--accent);color:#fff}

.dots{position:absolute;left:20px;bottom:28px;z-index:30;display:flex;flex-direction:column;gap:10px}
.dot{width:10px;height:10px;border-radius:50%;background:rgba(255,255,255,0.35);cursor:pointer}
.dot.active{background:var(--accent);transform:scale(1.2)}

.ship-wrap{position:fixed;right:6vw;bottom:6vh;z-index:30;pointer-events:none}
.ship-svg{width:300px;max-width:34vw;display:block;filter:drop-shadow(0 14px 32px rgba(0,0,0,0.45))}

section{padding:80px 0}
.section-title{text-align:center;margin-bottom:28px}
.grid{display:grid;gap:18px;grid-template-columns:repeat(3,1fr)}
.card{background:white;border-radius:12px;padding:18px;box-shadow:0 6px 24px rgba(12,40,60,0.04);transition:background .35s,box-shadow .35s,color .35s}
.card h3{margin-top:0}
.banner{height:220px;border-radius:12px;background-size:cover;background-position:center;display:block;overflow:hidden}

.work-steps{display:flex;gap:18px;flex-wrap:wrap;align-items:stretch}
.step{flex:1;min-width:220px;background:white;padding:18px;border-radius:12px;box-shadow:0 8px 28px rgba(6,30,45,0.05);transition:background .35s,box-shadow .35s,color .35s}
.step .icon{width:56px;height:56px;border-radius:12px;background:linear-gradient(135deg,var(--accent),var(--accent-2));display:flex;align-items:center;justify-content:center;color:white;margin-bottom:12px}



.trusted-wrapper {
  width: 800px;
  margin: 0 auto;
  overflow: hidden;
  padding: 10px 0;
  position: relative;
}

/* Track must be long enough to loop without jump */
.trusted {
  display: flex;
  gap: 40px;
  align-items: center;
  width: max-content;                /* IMPORTANT */
  animation: scrollLogos 20s linear infinite;
}

.trusted img {
  height: 50px;
  opacity: 0.95;
  flex-shrink: 0;                    /* IMPORTANT */
}

@keyframes scrollLogos {
  0% { transform: translateX(0); }
  100% { transform: translateX(calc(-50%)); }   /* exact half track */
}




.contact-grid{display:grid;grid-template-columns:1fr 1fr;gap:18px}
.form input,.form textarea{width:100%;padding:10px;border-radius:8px;border:1px solid #d8e8f2;background:white;transition:background .35s,color .35s,border .35s}
.form button{background:var(--accent);color:white;padding:10px 14px;border-radius:8px;border:0;cursor:pointer}


#projects .swiper {
  height: 500px; /* You can adjust height as needed */
}

#projects .swiper-slide {
  display: flex;
  align-items: center;
  justify-content: center;
}

#projects .card {
  width: 80%;
  /* background: var(--card-bg, #fff); */
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  text-align: center;
  padding: 20px;
}

#projects .banner {
  height: 200px;
  background-size: cover;
  background-position: center;
  border-radius: 8px;
  margin-bottom: 12px;
}


#testimonials {
  background: var(--section-bg);
  color: var(--text-color);
  padding: 60px 0;
  text-align: center;
}

#testimonials .scroll-box {
  height: 220px;
  overflow: hidden;
  position: relative;
  max-width: 700px;
  margin: auto;
}

#testimonials .scroll-content {
  display: flex;
  flex-direction: column;
}

#testimonials .card {
  background: var(--card-bg);
  color: var(--text-color);
  box-shadow: 0 4px 10px var(--shadow);
  border-radius: 12px;
  padding: 20px;
  margin: 10px 0;
  transition: background 0.3s ease, color 0.3s ease;
}

#testimonials .muted {
  color: var(--muted-color);
  font-size: 14px;
  display: block;
  margin-top: 6px;
}


.map-trigger {
  text-align: center;
  margin: 40px 0;
}

.map-trigger button {
  background: var(--accent);
  color: #fff;
  padding: 10px 18px;
  border: 0;
  border-radius: 10px;
  cursor: pointer;
  font-weight: 600;
  box-shadow: 0 6px 18px rgba(11,95,138,0.2);
  transition: all 0.3s ease;
}

.map-trigger button:hover {
  transform: translateY(-2px);
  background: var(--accent-2);
}

/* Popup */
#mapModal {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(0, 10, 20, 0.75);
  backdrop-filter: blur(8px);
  z-index: 1000;
  align-items: center;
  justify-content: center;
}

.map-content {
  position: relative;
  width: 80%;
  max-width: 800px;
  background: rgba(255,255,255,0.9);
  border-radius: 14px;
  padding: 20px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.3);
}

/* Final map inside popup */
#miniMap {
  width: 100%;
  height: 400px;
  border-radius: 12px;
  margin-top: 10px;
}

#closeMapBtn {
  position: absolute;
  top: 8px;
  right: 16px;
  font-size: 26px;
  cursor: pointer;
  color: #03314a;
  font-weight: bold;
}

body.dark .map-content {
  background: rgba(10,25,38,0.95);
  color: #e6f3ff;
}

body.dark #closeMapBtn { 
  color: #bcd8ea; 
}

footer{padding:34px 20px;text-align:center;color:#5d7a87;background:linear-gradient(180deg,#f6fbff,#eef9ff);transition:background .35s,color .35s}

/* --- Dark mode overrides --- */
body.dark{background:linear-gradient(180deg,#071621 0%,#031017 100%);color:#e6f3ff}
body.dark .topbar{background:rgba(12,28,45,0.75);box-shadow:0 6px 24px rgba(0,0,0,0.3)}
body.dark .hero::after{background:linear-gradient(180deg,rgba(2,15,28,0.6),rgba(2,10,20,0.8))}
body.dark .hero h1{color:#e6f3ff;text-shadow:0 4px 20px rgba(0,0,0,0.55)}
body.dark .hero p.lead{color:#bcd8ea}
body.dark .hero-card{background:rgba(8,25,38,0.75);box-shadow:0 6px 24px rgba(0,0,0,0.3)}
body.dark .card,body.dark .step,body.dark form.card{background:rgba(10,25,38,0.9);color:#e6f3ff;box-shadow:0 6px 24px rgba(0,0,0,0.45)}
body.dark .muted{color:#a6c4d9!important}
body.dark footer{background:linear-gradient(180deg,#04101a,#091b28);color:#98c7e8}

/* Responsive tweaks */
@media (max-width:1000px){.grid{grid-template-columns:1fr 1fr}.work-steps{flex-direction:column}.ship-wrap{display:none}.contact-grid{grid-template-columns:1fr}}
@media (max-width:640px){.hero h1{font-size:26px}.hero-overlay{padding:20px}.topbar{margin:0 8px;padding:8px}.dots{display:none}}

/* ========== New section styles (Stats + Swiper) ========== */
#stats .grid { gap: 16px; grid-template-columns: repeat(3,1fr); }
.stat .count { font-size: 34px; font-weight: 800; margin: 0 0 6px; color: var(--accent); }
@media (max-width:900px){ #stats .grid { grid-template-columns: 1fr; } }

.swiper { padding: 8px 0 24px; }
.swiper .swiper-slide { display:flex; justify-content:center; }
.swiper .card { width: 100%; max-width: 360px; }
@media (max-width:1024px){ .grid{grid-template-columns:1fr 1fr} }
@media (max-width:640px){ .grid{grid-template-columns:1fr} }

/* Floating WhatsApp */
.floating-whatsapp {
  position: fixed;
  bottom: 22px;
  right: 22px;
  width: 58px;
  height: 58px;
  border-radius: 50%;
  background: #25D366;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 6px 20px rgba(0,0,0,.25);
  z-index: 300;
  transition: transform .3s ease;
}
.floating-whatsapp:hover { transform: translateY(-3px) scale(1.05); }
.floating-whatsapp img { width: 28px; height: 28px; filter: invert(1) brightness(100); }

/* small polish for swiper pagination/buttons (if needed) */
.swiper-button-next, .swiper-button-prev { color: var(--accent); }
.swiper-pagination-bullet-active { background: var(--accent) !important; }

</style>
</head>
<body>

<div class="mobile-menu-overlay" id="mobileMenu">
  <ul class="mobile-links">
    <li><a href="#" class="menu-link">Home</a></li>
    <li><a href="#services" class="menu-link">Services</a></li>
    <li><a href="#fleet" class="menu-link">Fleet Operations</a></li>
    <li><a href="#how" class="menu-link">Our Process</a></li>
    <li><a href="#trusted" class="menu-link">Trusted</a></li>
    <li><a href="#contact" class="menu-link">Contact Us</a></li>
  </ul>
</div>


<header>
  <div class="topbar container">
    <div class="brand">
      <div class="logo">BM</div>
      <div>
        <div style="font-weight:700">Biz Marine</div>
        <div style="font-size:12px;color:var(--muted)">Offshore | Charter | Fleet Ops</div>
      </div>
    </div>


    <nav>
      <ul>
        <li class="dropdown">
          <a href="#">Home ‚ñæ</a>
          <ul class="dropdown-menu">
            <li><a href="/home1/">Home Page 1</a></li>
            <li><a href="/home2/">Home Page 2</a></li>
            <li><a href="/home3/">Home Page 3</a></li>
          </ul>
        </li>

        <li><a href="#services">Services</a></li>
        <li><a href="#fleet">Fleet</a></li>
        <li><a href="#how">How We Work</a></li>
        <li><a href="#trusted">Trusted</a></li>
        <li><a href="#contact" class="cta">Contact</a></li>
      </ul>
    </nav>


    <div id="themeToggle" class="toggle" title="Switch theme" aria-label="Toggle day night">
      <div class="thumb" id="toggleThumb" role="button" aria-pressed="false">
        <svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <path d="M464 256c0 0-28.9 48-56 48H104c-27.1 0-56-48-56-48C61 180 110 112 256 112s195 68 208 144z"/>
        </svg>
      </div>
        <!-- HAMBURGER BUTTON -->
      <div class="hamburger" id="hamburger">
        <div class="bar"></div>
        <div class="bar"></div>
        <div class="bar"></div>
      </div>
    </div>
  </div>
</header>  


<section class="hero" id="hero">

  {% for s in slides %}
  <div class="slide {% if forloop.first %}active{% endif %}" data-i="{{ forloop.counter0 }}">
    <video autoplay muted loop playsinline preload="metadata">
      <source src="{{ s.video.url }}" type="video/webm">
    </video>
  </div>
  {% endfor %}

  <div class="hero-overlay container">
    <h1>{{ hero.title }}</h1>
    <p class="lead">{{ hero.subtitle }}</p>

    <div class="hero-card">
      <div>
        <div style="font-weight:700">{{ hero.card_title }}</div>
        <div class="muted" style="font-size:13px">{{ hero.card_text }}</div>
      </div>

      <div style="margin-left:auto;display:flex;gap:10px;align-items:center">
        <button class="btn btn-outline" onclick="location.href='#services'">Our Services</button>
        <button class="btn btn-primary" onclick="location.href='#contact'">Enquire Now</button>
      </div>
    </div>
  </div>

  <div class="dots" id="dots">
    {% for s in slides %}
    <div class="dot {% if forloop.first %}active{% endif %}" data-i="{{ forloop.counter0 }}"></div>
    {% endfor %}
  </div>
</section>


<div class="ship-wrap" aria-hidden="true">
  <svg class="ship-svg" viewBox="0 0 640 360" xmlns="http://www.w3.org/2000/svg">
    <g transform="translate(20,60) scale(.9)">
      <rect x="0" y="120" width="520" height="60" rx="20" fill="#0b5f8a"/>
      <rect x="40" y="60" width="140" height="80" rx="8" fill="#063b50"/>
      <rect x="200" y="20" width="40" height="120" fill="#0b5f8a"/>
      <rect x="248" y="40" width="28" height="100" fill="#0b5f8a"/>
    </g>
  </svg>
</div>

<section id="services" class="container section" data-aos="fade-up">
  <h2 class="section-title">Our Services</h2>
  <div class="grid">
    {% for s in services %}
      <div class="card">
        <div class="banner" style="background-image:url('{{ s.image.url }}')"></div>
        <h3>{{ s.title }}</h3>
        <p>{{ s.description }}</p>
      </div>
    {% endfor %}
  </div>
</section>


<section id="fleet" class="section" data-aos="fade-up">
  <div class="container">
    <h2 class="section-title">Fleet Highlights</h2>
    <div class="grid">
  {% for f in fleet %}
    <div class="card">
      <h3>{{ f.title }}</h3>
      <p>{{ f.description }}</p>
    </div>
  {% endfor %}
</div>

  </div>
</section>

<section id="team" class="container section" data-aos="fade-up">
  <h2 class="section-title">Meet Our Crew</h2>

  <div class="grid">
    {% for member in team %}
      <div class="card">
        <img src="{{ member.photo.url }}" style="width:100%;border-radius:8px;">
        <h3>{{ member.name }}</h3>
        <p class="muted">{{ member.role }}</p>
      </div>
    {% empty %}
      <p>No team members added yet.</p>
    {% endfor %}
  </div>
</section>


<section id="how" class="container section" data-aos="fade-up">
  <h2 class="section-title">How We Work</h2>
  <p style="text-align:center;color:var(--muted);max-width:820px;margin:0 auto 28px">We focus on safety, planning and clear communication.</p>
  <div class="work-steps">
    <div class="step"><div class="icon"><svg width="28" height="28" viewBox="0 0 24 24" fill="none"><path d="M3 7h18M7 3v4M17 3v4" stroke="white" stroke-width="1.6" stroke-linecap="round"/></svg></div><h4>1. Plan & Survey</h4><p class="muted">Detailed project survey, route planning and risk analysis before mobilisation.</p></div>
    <div class="step"><div class="icon"><svg width="28" height="28" viewBox="0 0 24 24" fill="none"><path d="M2 12h20l-2 6H4z" stroke="white" stroke-width="1.6" stroke-linecap="round"/></svg></div><h4>2. Mobilise</h4><p class="muted">Vessel readiness checks, fuel & stores, crew mobilisation and permits cleared.</p></div>
    <div class="step"><div class="icon"><svg width="28" height="28" viewBox="0 0 24 24" fill="none"><path d="M3 12h18M12 3v18" stroke="white" stroke-width="1.6" stroke-linecap="round"/></svg></div><h4>3. Execute & Support</h4><p class="muted">On-site coordination, safety reporting and real-time updates to client.</p></div>
  </div>
</section>

<section id="testimonials" class="section" data-aos="fade-up">
  <div class="container">
    <h2 class="section-title">Client Feedback</h2>

    <div class="scroll-box">
      <div class="scroll-content">

        {% for t in testimonials %}
        <div class="card">
          ‚Äú{{ t.feedback }}‚Äù
          <br>
          <span class="muted">‚Äî {{ t.client_name }}</span>
        </div>
        {% empty %}
        <p>No testimonials added yet.</p>
        {% endfor %}

      </div>
    </div>
  </div>
</section>






<!-- ================= NEW STATS SECTION (inserted after Trusted) ================= -->
<section id="stats" class="container section" data-aos="fade-up">
  <h2 class="section-title">Our Achievements</h2>
  <div class="grid">
    <div class="card stat" data-target="120">
      <h3 class="count">0</h3>
      <p class="muted">Successful Charters</p>
    </div>
    <div class="card stat" data-target="30">
      <h3 class="count">0</h3>
      <p class="muted">Active Fleet Vessels</p>
    </div>
    <div class="card stat" data-target="15">
      <h3 class="count">0</h3>
      <p class="muted">Countries Served</p>
    </div>
  </div>
</section>

<section id="projects" class="section" data-aos="fade-up">
  <div class="container">
    <h2 class="section-title">Recent Projects</h2>

    <div class="swiper">
      <div class="swiper-wrapper">

        {% for p in projects %}
        <div class="swiper-slide">
          <div class="card">
            <div class="banner" style="background-image:url('{{ p.image.url }}')"></div>
            <h3>{{ p.title }}</h3>
            <p class="muted">{{ p.description }}</p>
          </div>
        </div>
        {% empty %}
        <div class="swiper-slide">
          <p>No projects added yet.</p>
        </div>
        {% endfor %}

      </div>

      <div class="swiper-pagination"></div>
      <div class="swiper-button-prev"></div>
      <div class="swiper-button-next"></div>
    </div>

  </div>
</section>


<div id="trusted" class="trusted-wrapper">
      <h2 class="section-title">Our Trusted Partners</h2>

  <div class="trusted">
    <img src="{% static 'public/assets/images/l2.png' %}">
    <img src="{% static 'public/assets/images/l3-removebg-preview.png' %}">
    <img src="{% static 'public/assets/images/l4.png' %}">
    <img src="{% static 'public/assets/images/log.png' %}">
    <img src="{% static 'public/assets/images/new5.png' %}">
    <img src="{% static 'public/assets/images/ung.png' %}">
    <!-- DUPLICATE for infinite scroll -->
    <img src="{% static 'public/assets/images/l2.png' %}">
    <img src="{% static 'public/assets/images/l3-removebg-preview.png' %}">
    <img src="{% static 'public/assets/images/l4.png' %}">
    <img src="{% static 'public/assets/images/log.png' %}">
    <img src="{% static 'public/assets/images/new5.png' %}">
    <img src="{% static 'public/assets/images/ung.png' %}">
  </div>
</div>



<section id="contact" class="container section" data-aos="fade-up">
  <h2 class="section-title">Contact Us</h2>

  <div class="contact-grid">

    <!-- LEFT SIDE: Dynamic Contact Info from Admin -->
    <div class="card" style="padding:20px">
      <h3>{{ contact.title }}</h3>

      <p class="muted">
        {{ contact.email }}<br>
        {{ contact.phone }}<br>
        {{ contact.location }}
      </p>

      <p class="muted">
        {{ contact.office_hours }}
      </p>
    </div>

    <!-- RIGHT SIDE: Contact Form (POST + Save to DB) -->
    <form class="form card" method="POST" style="padding:20px">
      {% csrf_token %}

      <input type="text" name="name" placeholder="Name" required>
      <input type="email" name="email" placeholder="Email" required>
      <textarea name="message" placeholder="Message" rows="5" required></textarea>

      <button type="submit">Send Message</button>

      {% if success %}
      <p style="color: var(--accent); margin-top:10px;">Message sent successfully ‚úî</p>
      {% endif %}
    </form>

  </div>
</section>


<!-- Map Trigger -->
<div class="map-trigger" data-aos="fade-up">
  <button id="openMapBtn">üåç View Operations Map</button>
</div>

<!-- Map Modal -->
<div id="mapModal">
  <div class="map-content">
    <span id="closeMapBtn">&times;</span>
    <h3>Biz Marine Operational Routes</h3>
    <div id="miniMap"></div>
  </div>
</div>

<footer>¬© <strong>Biz Marine</strong> ‚Äî Offshore | Charter | Fleet Operations</footer>

<!-- Floating WhatsApp Button (uses your number) -->
<a href="https://wa.me/919879477399" target="_blank" class="floating-whatsapp" aria-label="Chat on WhatsApp">
  <!-- using CDN svg for icon; you can replace with local image if you prefer -->
  <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/whatsapp.svg" alt="WhatsApp">
</a>

<!-- Scripts: keep Leaflet map script (already included above). Include AOS + Swiper + init -->
<script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

<script>
(function(){
  const slides=[...document.querySelectorAll('.slide')],dots=[...document.querySelectorAll('.dot')];let i=0,t;
  function show(n){
    slides.forEach((s,x)=>s.classList.toggle('active',x===n));
    dots.forEach((d,x)=>d.classList.toggle('active',x===n));
    slides.forEach((s,x)=>{const v=s.querySelector('video');if(v){if(x===n){v.play().catch(()=>{});}else{v.pause();v.currentTime=0}}});
    i=n;
  }
  function next(){show((i+1)%slides.length);}
  dots.forEach(d=>d.addEventListener('click',e=>{show(+e.currentTarget.dataset.i);reset();}));
  function reset(){clearInterval(t);t=setInterval(next,7000);}
  show(0);reset();
  document.addEventListener('visibilitychange',()=>{if(document.hidden)clearInterval(t);else reset();});
})();
</script>

<script>
(function(){
  const toggle=document.getElementById('themeToggle'),body=document.body;
  const saved=localStorage.getItem('racon_theme');const prefersDark=window.matchMedia('(prefers-color-scheme: dark)').matches;
  let dark=saved?saved==='dark':prefersDark;
  function apply(d){d?(body.classList.add('dark'),toggle.classList.add('dark'),localStorage.setItem('racon_theme','dark')):(body.classList.remove('dark'),toggle.classList.remove('dark'),localStorage.setItem('racon_theme','light'));}apply(dark);
  toggle.addEventListener('click',()=>{dark=!body.classList.contains('dark');apply(dark);});
})();
</script>

<script>
(function(){
  const s=document.querySelector('.ship-wrap');if(!s)return;let w=innerWidth,h=innerHeight;
  addEventListener('mousemove',e=>{const nx=(e.clientX/w-.5),ny=(e.clientY/h-.5);s.style.transform=`translate3d(${nx*12}px,${ny*14}px,0)`;});
  addEventListener('resize',()=>{w=innerWidth;h=innerHeight;});
})();
</script>

<!-- Leaflet map initialization (unchanged) -->
<script>
window.map = L.map('miniMap', {
  center: [21.17, 72.83],
  zoom: 3,
  zoomControl: false,
  attributionControl: false
});

L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
  maxZoom: 10,
}).addTo(window.map);

L.marker([21.17, 72.83]).addTo(window.map).bindPopup("Biz Marine HQ ‚Äî Surat");
L.marker([25.20, 55.27]).addTo(window.map).bindPopup("Dubai Port");
L.marker([19.07, 72.87]).addTo(window.map).bindPopup("Mumbai Port");
L.marker([4.05, 9.70]).addTo(window.map).bindPopup("Cameroon Offshore");
L.marker([-1.29, 36.82]).addTo(window.map).bindPopup("Kenya Operations");
L.polyline([
  [21.17, 72.83],
  [25.20, 55.27],
  [19.07, 72.87]
], {color: '#0b5f8a', weight: 3, opacity: 0.8, dashArray: '5, 6'}).addTo(window.map);
</script>

<script>
  const modal = document.getElementById('mapModal');
  const btn = document.getElementById('openMapBtn');
  const closeBtn = document.getElementById('closeMapBtn');

  btn.onclick = function() {
    modal.style.display = 'flex';
    setTimeout(() => {
      if (window.map) {
        window.map.invalidateSize(); // adjust map size in popup
      }
    }, 200);
  };

  closeBtn.onclick = function() {
    modal.style.display = 'none';
  };

  window.onclick = function(e) {
    if (e.target === modal) modal.style.display = 'none';
  };
</script>

<!-- AOS + Swiper + Stats initialization -->
<script>
  // AOS
  AOS.init({ once: true, duration: 900 });

  // Swiper
  const swiper = new Swiper('.swiper', {
    loop: true,
    spaceBetween: 24,
    autoplay: { delay: 4000, disableOnInteraction: false },
    slidesPerView: 1,
    pagination: { el: '.swiper-pagination', clickable: true },
    navigation: { nextEl: '.swiper-button-next', prevEl: '.swiper-button-prev' },
    breakpoints: { 640: { slidesPerView: 2 }, 1024: { slidesPerView: 3 } }
  });

  // Stats counter: animate when visible
  const statCards = document.querySelectorAll('.stat');
  const statObserver = new IntersectionObserver((entries, obs) => {
    entries.forEach(entry => {
      if (!entry.isIntersecting) return;
      const card = entry.target;
      const target = parseInt(card.getAttribute('data-target') || '0', 10);
      const countEl = card.querySelector('.count');
      if (!countEl) return;
      let current = 0;
      const duration = 1600; // ms
      const stepTime = Math.max(20, Math.floor(duration / Math.max(1, target)));
      const step = Math.max(1, Math.floor(target / (duration / stepTime)));
      const timer = setInterval(() => {
        current += step;
        if (current >= target) {
          current = target;
          clearInterval(timer);
        }
        countEl.textContent = current;
      }, stepTime);
      obs.unobserve(card);
    });
  }, { threshold: 0.5 });

  statCards.forEach(c => statObserver.observe(c));
</script>

<script>
document.addEventListener("DOMContentLoaded", function() {
  const scrollBox = document.querySelector("#testimonials .scroll-box");
  const scrollContent = document.querySelector("#testimonials .scroll-content");

  // Duplicate testimonials for seamless loop
  scrollContent.innerHTML += scrollContent.innerHTML;

  let scrollPosition = 0;

  function smoothScroll() {
    scrollPosition += 0.5; // adjust speed (0.3 = slower, 1 = faster)
    if (scrollPosition >= scrollContent.scrollHeight / 2) {
      scrollPosition = 0; // reset when half content scrolled
    }
    scrollBox.scrollTop = scrollPosition;
    requestAnimationFrame(smoothScroll);
  }

  smoothScroll();
});
</script>

<script>
const hamburger = document.getElementById("hamburger");
const mobileMenu = document.getElementById("mobileMenu");
const links = document.querySelectorAll(".menu-link");

hamburger.addEventListener("click", () => {
  mobileMenu.classList.toggle("open");
  hamburger.classList.toggle("active");
});

links.forEach(link => {
  link.addEventListener("click", () => {
    mobileMenu.classList.remove("open");
    hamburger.classList.remove("active");
  });
});
</script>

</body>
</html>
